<div id="markdown_content">
勤怠管理のサンプルです。

<div class="sample">
	<div>
		{{message}}
	</div>
	<form action="/db">
		<div>
			Hello !
			<select name="name">
				<option vaue="Jane" {{#Jane}}selected{{/Jane}}>Jane</option>
				<option vaue="Taro" {{#Taro}}selected{{/Taro}}>Taro</option>
				<option vaue="Miro" {{#Miro}}selected{{/Miro}}>Miro</option>
			</select>
			<input class="btn" type="submit" value="Go!"/>
		</div>
	</form>
</div>

## サンプルの説明

1. 初期表示時にプルダウンのリスト情報をデータベースから取得して表示時されます。
1. プルダウンの人の名前を選択して「Go!」ボタンを押す。
1. 選択された人をキーにして挨拶文字を取得し画面に表示されます。

Postgersに格納されているデータ

|name |   message|
|-----|----------|
|Jane | Hello!   |
|Taro | こんにちは!|
|Miro | Guten Tag!|

-----------------------------------------

## 解説

アプリケーションからHeroku Postgresに接続するための解説をします。

<div class="bg-warning">
	<p> <span class="glyphicon glyphicon-info-sign"/> このサンプルを実行するには[HerokuPostgres](https://addons.heroku.com/heroku-postgresql)アドオンが必要です </p>
	Addonの追加コマンドは以下です。(HobbyDevは無料)
	<p>
		```
		heroku addons:add heroku-postgresql
		```
	</p>
	Addonを追加すると環境変数に**DATABASE_URL**, **HEROKU_POSTGRESQL_COLOR_URL**という二つの変数が設定される
</div>

### 接続情報
データベース(PostgreSQL)への接続情報は環境変数の**DATABASE_URL**から取得します。
このURLのフォーマットは以下の形式です。

```
postgres://<username>:<password>@<host>/<dbname>
```

Playframeworkなどこのスキームを直接解釈できるフレームワークもありますが、JDBC形式のURLを使用する場合は自分でURLを組み立てる必要があります。

### 関連ソース

- [DatabaseServlet.java](https://github.com/FLECT-DEV-TEAM/heroku-samples/blob/master/src/main/java/herokuSamples/web/db/DatabaseServlet.java)
- [Database.java](https://github.com/FLECT-DEV-TEAM/heroku-samples/blob/master/src/main/java/herokuSamples/util/Database.java)
</div>
